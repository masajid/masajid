<% content_for :page_title do %>
  <%= plural_resource_name(Content::Message) %>
<% end %>

<p><%= t('admin.shared.total', count: @messages.count) %></p>

<div class='table-responsive'>
  <table class='table table-striped table-sm'>
    <thead>
    <tr>
      <th><%= Content::Message.human_attribute_name(:name) %></th>
      <th><%= Content::Message.human_attribute_name(:email) %></th>
      <th><%= Content::Message.human_attribute_name(:subject) %></th>
      <th></th>
      <th></th>
    </tr>
    </thead>

    <tbody>
      <% @messages.each do |message| %>
        <tr class="table-<%= message.seen_at? ? 'success' : 'active'  %>">
          <td><%= message.name %></td>
          <td><%= message.email %></td>
          <td><%= message.subject %></td>
          <td><%= message.created_at.to_formatted_s(:long) %></td>
          <td><%= link_to t('shared.actions.show'), message, class: 'btn btn-primary btn-sm' %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
